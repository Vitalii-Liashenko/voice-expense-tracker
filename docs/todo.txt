# Voice Expense Tracker - План розробки

## 1. Підготовка середовища розробки
- [x] Створити віртуальне середовище (venv або Poetry) - створено pyproject.toml для Poetry
- [x] Створити файл .env з шаблоном для секретів (Telegram Token, OpenAI API Key, тощо) - створено .env.example
- [x] Створити docker-compose.yml для PostgreSQL
- [x] Створити requirements.txt з необхідними залежностями
- [x] Налаштувати Git та додати .gitignore

## 2. Налаштування бази даних
- [x] Створити моделі SQLAlchemy:
  - [x] Таблиця expenses для записів витрат
  - [x] Таблиця budget_limits для лімітів по категоріях
- [x] Написати базові CRUD-операції для взаємодії з базою даних
- [x] Створити функцію для заповнення бази даних тестовими даними при першому запуску (приклади витрат та ліміти для категорій)

## 3. Розробка Telegram бота
- [x] Створити модуль telegram_bot
- [x] Налаштувати bot.py для ініціалізації та запуску бота
- [x] Створити базові хендлери для обробки команд (/start, /help)
- [x] Створити хендлери для обробки голосових повідомлень
- [x] Створити хендлери для обробки текстових повідомлень

## 4. Інтеграція з Whisper API
- [ ] Створити модуль whisper_transcriber
- [ ] Налаштувати transcriber.py для взаємодії з Whisper API
- [ ] Створити функцію для завантаження та обробки голосових повідомлень
- [ ] Реалізувати функцію для транскрипції голосу в текст українською

## 5. Розробка AI-агента
- [ ] Створити модуль ai_agent
- [ ] Налаштувати intent_classifier.py для класифікації намірів користувача:
  - [ ] Розпізнавання запису витрат
  - [ ] Розпізнавання запитів на аналітику
  - [ ] Розпізнавання непідтримуваних запитів
- [ ] Налаштувати expense_parser.py для витягування інформації про витрати:
  - [ ] Визначення суми
  - [ ] Визначення категорії
  - [ ] Визначення опису
  - [ ] Визначення дати (якщо вказана)
- [ ] Налаштувати analytics_agent.py для аналізу витрат:
  - [ ] Аналіз витрат по категоріях
  - [ ] Перевірка перевищення лімітів
  - [ ] Формування текстових відповідей на аналітичні запити

## 6. Розробка утиліт та допоміжних функцій
- [ ] Створити модуль utils
- [ ] Реалізувати helpers.py з корисними функціями:
  - [ ] Форматування дат
  - [ ] Валідація даних
  - [ ] Логування

## 7. Налаштування конфігурації
- [ ] Створити модуль config
- [ ] Налаштувати settings.py для зберігання параметрів додатку:
  - [ ] Конфігурація бази даних
  - [ ] API ключі
  - [ ] Стандартні ліміти по категоріях
  - [ ] Інші налаштування

## 8. Розробка логіки обробки і збереження витрат
- [ ] Реалізувати повний цикл обробки голосових повідомлень:
  - [ ] Отримання голосового повідомлення -> транскрипція -> аналіз -> збереження
- [ ] Реалізувати логіку перевірки лімітів при додаванні нової витрати
- [ ] Реалізувати сповіщення про перевищення лімітів

## 9. Розробка аналітичних можливостей
- [ ] Реалізувати обробку аналітичних запитів:
  - [ ] Аналіз витрат за період
  - [ ] Аналіз витрат по категорії
  - [ ] Відображення залишку в межах лімітів

## 10. Тестування
- [ ] Створити модуль tests
- [ ] Написати тести для LLM-парсера витрат
- [ ] Написати тести для взаємодії з Telegram ботом
- [ ] Написати тести для запитів до бази даних
- [ ] Провести інтеграційне тестування всіх компонентів

## 11. Фінальна інтеграція та запуск
- [ ] Створити run.py для запуску додатку
- [ ] Налаштувати логування
- [ ] Перевірити всі компоненти на взаємодію
- [ ] Протестувати додаток у реальних умовах

## 12. Документація
- [ ] Створити README.md з описом проєкту та інструкціями з встановлення
- [ ] Додати коментарі до коду
- [ ] Підготувати документацію з користування ботом
